<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jQuery Tabledit Plugin Demo</title>
<link rel="stylesheet" href="libs/css/bootstrap.min.css"/>
<script src="libs/script/jquery.min.js"></script>
<script src="libs/script/bootstrap.min.js"></script>
<script src="libs/script/jquery.tabledit.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.12/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.12/datatables.min.js"></script>
<!--<script src="js/index.js"></script>-->
<style>
.container { max-width:760px;}
</style>
</head>

<body onload="ajaxFunction()">
<div class="container" style="margin-top:150px;">
<h1>OPF Tool Meta Information Grid</h1>
<form class="tabledit-form">
	<table class="table table-striped table-bordered" id="metaInfo">
	  <caption>
	  Click the table cells to edit.
	  </caption>
		<thead>
			<tr>
			  <th style="text-align:center">Cover</th>
			  <th>Folder Name</th>
			  <th>Title Name</th>
			  <th>Author Name</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
			  <th style="text-align:center">Cover</th>
			  <th>Folder Name</th>
			  <th>Title Name</th>
			  <th>Author Name</th>
			</tr>
		</tfoot>
	</table>

	
	<div class="row">
		<div class="col-lg-3"></div>
		<div class="col-lg-5">
			<input type="button" id="Process" name="Process" value="Process"/>
			&nbsp; &nbsp;
			<input type="button" id="Cancel" name="Cancel" value="Cancel"/>
		</div>
		<div class="col-lg-4"></div>
	</div>
</form>

<script>
	$('#metaInfo').dataTable({
	    "ajax": {
			"url": "database.json",
		}
   });
   var table = $('#metaInfo').DataTable();
    $(document).ready(function (){
		$('#metaInfo tbody tr').each(function (index,element){
			var content = $(this).children('td').eq(0).text().toString().replace(/\\/g,'\/');
			$(this).children('td').eq(0).before('<th scope="row" style="text-align:center">' + '<img src="' + content + '"/>' + '</th>');
			$(this).children('td').eq(0).remove();
			$(this).children('td').each(function (ind,ele){
				$(this).attr('sytle','cursor: pointer;');
					$(this).attr('class','tabledit-view-mode');

					$(this).html('<span class="tabledit-span">' + $(this).html() + '</span>\n' + '<input class="tabledit-input form-control input-sm" type="text" name="' + $('#metaInfo thead tr').children('th').eq(ind).html() + '" value="' + $(this).html() + '" style="display: none;" disabled="">\n' + '</td>\n');
			});
			$(this).children('td').eq(1).addClass('sorting_1');
			
			$(this).children('td').eq($(this).children('td').length-1).after('<td class="tabledit-view-mode" style="white-space: nowrap; width: 1%;"><div class="tabledit-toolbar btn-toolbar" style="text-align: left;">\n<div class="btn-group btn-group-sm" style="float: none;"><button type="button" class="tabledit-delete-button btn btn-sm btn-default" style="float: none;"><span class="glyphicon glyphicon-trash"></span></button></div>\n<button type="button" class="tabledit-confirm-button btn btn-sm btn-danger" style="display: none; float: none;">Confirm</button>\n<button type="button" class="tabledit-restore-button btn btn-sm btn-warning" style="display: none; float: none;">Restore</button>\n</div></td>');
			
			
		});
	}); 
   
   
   	$('#metaInfo').Tabledit({
		editButton: false,
		removeButton: false,
		columns: {
			identifier: [0, 'id'],
			editable: [[1, 'Folder Name'],[2, 'Title Name'],[3, 'Author Name']]
		}
	});

</script>

</div>

</body>

</html>
